# Session认证机制
适合服务器端渲染
## HTTP协议的无状态性
每次HTTP请求是独立的，服务器不会主动保存每次HTTP请求的状态
## Cookie
==存储在用户浏览器中不超过4KB的字符串。==它由一个==名称==、一个==值==和其他几个用于Cookie*有效性*、*安全性、*使用范围*的可选属性组成。
不同域名下的Cookie各自独立，每当客户端发起请求时，会==自动==把==当前域名下==所有==未过期Cookie==一同发送给服务器
### 特性
1. 自动发送
2. 域名独立
3. 过期时限
4. 4KB限制
  ### 身份认证中的作用
  客户端第一次请求服务器的时候，服务器==通过相应头的形式==，向客户端发送一个身份认证的Cookies，客户端会保存Cookies在浏览器中
  随后，当客户端浏览器每次请求服务器的时候，浏览器会自动将身份认证Cookie，通过请求头的形式发送给服务器，服务器即可验证身份
  ![](https://raw.githubusercontent.com/chenruida/image/master/202208281923400.png)
### 不具备安全性
浏览器提供读写CookieAPI，容易被伪造==千万不要使用Cookie存储重要且隐私的数据==
### 提高安全性
“会员卡+刷卡认证”
## Session
![](https://raw.githubusercontent.com/chenruida/image/master/202208281932763.png)
客户端：存储Cookie
服务端：生成Cookie,并保存用户信息
## 局限性
需要配合Cookie才能实现。由于Cookie默认不支持跨域，所以当==前端跨域请求后端接口时==，需要额外配置，才能实现Session
# JWT认证机制
前后端分离，跨域请求后端接口时
Json Web Token目前最流行的跨域认证解决方案
## 工作原理
![](https://raw.githubusercontent.com/chenruida/image/master/202208281946966.png)
## 组成部分
- Header头部
- ==Payload有效荷载:真正的用户信息，经过加密之后生成的字符串==
- Signature签名
- 通过.分隔
Header.Payload.Signature
## 使用方式
客户端收到Session之后会保存到localStorage或者sessionStorage


